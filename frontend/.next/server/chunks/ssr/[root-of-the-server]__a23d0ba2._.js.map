{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/gregf/Documents/mcmaster/sem6/capstone/Geckode/frontend/src/Blockly/BlocklyComponent.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useRef } from \"react\";\nimport \"blockly/blocks\";\nimport * as Blockly from \"blockly/core\";\nimport { javascriptGenerator } from \"blockly/javascript\";\nimport * as locale from \"blockly/msg/en\";\n\nBlockly.setLocale(locale as any);\n\ntype Props = React.PropsWithChildren<\n  {\n    initialXml?: string;\n    className?: string;\n  } & Blockly.BlocklyOptions\n>;\n\nfunction BlocklyComponent(props: Props) {\n  const blocklyDiv = useRef<HTMLDivElement | null>(null);\n  const toolbox = useRef<HTMLDivElement | null>(null);\n  const workspaceRef = useRef<Blockly.WorkspaceSvg | null>(null);\n\n  const generateCode = () => {\n    if (!workspaceRef.current) return;\n    const code = javascriptGenerator.workspaceToCode(workspaceRef.current);\n    console.log(code);\n  };\n\n  useEffect(() => {\n    // Inject once per mount; dispose on unmount.\n    const { initialXml, children: _children, ...rest } = props;\n\n    const workspace = Blockly.inject(blocklyDiv.current as HTMLDivElement, {\n      toolbox: toolbox.current as HTMLDivElement,\n      ...rest,\n    });\n\n    workspaceRef.current = workspace;\n\n    if (initialXml) {\n      Blockly.Xml.domToWorkspace(\n        Blockly.utils.xml.textToDom(initialXml),\n        workspace\n      );\n    }\n\n    // Cleanup is crucial to avoid \"duplicate\" UIs under React 18 StrictMode.\n    return () => {\n      try {\n        workspace.dispose();\n      } catch {}\n      workspaceRef.current = null;\n    };\n    // Intentionally run only on mount/unmount.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); \n\n  return (\n    <>\n      <div className=\"flex h-[60vh] w-full flex-col\">\n        <div className=\"sticky top-0 z-10 mb-2\">\n          <button\n            onClick={generateCode}\n            className=\"flex items-center justify-center rounded-lg border border-slate-300 px-2 py-1 text-xs cursor-pointer mb-2\"\n            aria-label=\"Convert Now\"\n            title=\"Convert Now\"\n          >\n            Convert Now\n          </button>\n        </div>\n\n        <div\n          ref={blocklyDiv}\n          id=\"blocklyDiv\"\n          className=\"min-h-0 w-full flex-1\"\n        />\n      </div>\n\n      {/* Toolbox; hidden but in DOM for Blockly */}\n      <div className=\"hidden\" ref={toolbox}>\n        {props.children}\n      </div>\n    </>\n  );\n}\n\nexport default BlocklyComponent;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,qNAAiB,CAAC;AASlB,SAAS,iBAAiB,KAAY;IACpC,MAAM,aAAa,IAAA,0VAAM,EAAwB;IACjD,MAAM,UAAU,IAAA,0VAAM,EAAwB;IAC9C,MAAM,eAAe,IAAA,0VAAM,EAA8B;IAEzD,MAAM,eAAe;QACnB,IAAI,CAAC,aAAa,OAAO,EAAE;QAC3B,MAAM,OAAO,8NAAmB,CAAC,eAAe,CAAC,aAAa,OAAO;QACrE,QAAQ,GAAG,CAAC;IACd;IAEA,IAAA,6VAAS,EAAC;QACR,6CAA6C;QAC7C,MAAM,EAAE,UAAU,EAAE,UAAU,SAAS,EAAE,GAAG,MAAM,GAAG;QAErD,MAAM,YAAY,kNAAc,CAAC,WAAW,OAAO,EAAoB;YACrE,SAAS,QAAQ,OAAO;YACxB,GAAG,IAAI;QACT;QAEA,aAAa,OAAO,GAAG;QAEvB,IAAI,YAAY;YACd,+MAAW,CAAC,cAAc,CACxB,iNAAa,CAAC,GAAG,CAAC,SAAS,CAAC,aAC5B;QAEJ;QAEA,yEAAyE;QACzE,OAAO;YACL,IAAI;gBACF,UAAU,OAAO;YACnB,EAAE,OAAM,CAAC;YACT,aAAa,OAAO,GAAG;QACzB;IACA,2CAA2C;IAC3C,uDAAuD;IACzD,GAAG,EAAE;IAEL,qBACE;;0BACE,yXAAC;gBAAI,WAAU;;kCACb,yXAAC;wBAAI,WAAU;kCACb,cAAA,yXAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;4BACX,OAAM;sCACP;;;;;;;;;;;kCAKH,yXAAC;wBACC,KAAK;wBACL,IAAG;wBACH,WAAU;;;;;;;;;;;;0BAKd,yXAAC;gBAAI,WAAU;gBAAS,KAAK;0BAC1B,MAAM,QAAQ;;;;;;;;AAIvB;uCAEe","debugId":null}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/gregf/Documents/mcmaster/sem6/capstone/Geckode/frontend/src/Blockly/index.js"],"sourcesContent":["/**\n * @license\n *\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview XML wrappers for block, category, value, field and shadow.\n * @author samelh@google.com (Sam El-Husseini)\n */\n\nimport React from 'react';\nimport BlocklyComponent from './BlocklyComponent';\n\nexport default BlocklyComponent;\n\nconst Block = (p) => {\n  const {children, ...props} = p;\n  props.is = 'blockly';\n  return React.createElement('Block', props, children);\n};\n\nconst Category = (p) => {\n  const {children, ...props} = p;\n  props.is = 'blockly';\n  return React.createElement('category', props, children);\n};\n\nconst Value = (p) => {\n  const {children, ...props} = p;\n  props.is = 'blockly';\n  return React.createElement('value', props, children);\n};\n\nconst Field = (p) => {\n  const {children, ...props} = p;\n  props.is = 'blockly';\n  return React.createElement('field', props, children);\n};\n\nconst Shadow = (p) => {\n  const {children, ...props} = p;\n  props.is = 'blockly';\n  return React.createElement('shadow', props, children);\n};\n\nexport {Block, Category, Value, Field, Shadow};\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;CAgBC,GAED;;;CAGC;;;;;;;;;;;;;;AAED;AACA;;;uCAEe,0JAAgB;AAE/B,MAAM,QAAQ,CAAC;IACb,MAAM,EAAC,QAAQ,EAAE,GAAG,OAAM,GAAG;IAC7B,MAAM,EAAE,GAAG;IACX,qBAAO,2VAAK,CAAC,aAAa,CAAC,SAAS,OAAO;AAC7C;AAEA,MAAM,WAAW,CAAC;IAChB,MAAM,EAAC,QAAQ,EAAE,GAAG,OAAM,GAAG;IAC7B,MAAM,EAAE,GAAG;IACX,qBAAO,2VAAK,CAAC,aAAa,CAAC,YAAY,OAAO;AAChD;AAEA,MAAM,QAAQ,CAAC;IACb,MAAM,EAAC,QAAQ,EAAE,GAAG,OAAM,GAAG;IAC7B,MAAM,EAAE,GAAG;IACX,qBAAO,2VAAK,CAAC,aAAa,CAAC,SAAS,OAAO;AAC7C;AAEA,MAAM,QAAQ,CAAC;IACb,MAAM,EAAC,QAAQ,EAAE,GAAG,OAAM,GAAG;IAC7B,MAAM,EAAE,GAAG;IACX,qBAAO,2VAAK,CAAC,aAAa,CAAC,SAAS,OAAO;AAC7C;AAEA,MAAM,SAAS,CAAC;IACd,MAAM,EAAC,QAAQ,EAAE,GAAG,OAAM,GAAG;IAC7B,MAAM,EAAE,GAAG;IACX,qBAAO,2VAAK,CAAC,aAAa,CAAC,UAAU,OAAO;AAC9C","debugId":null}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///Users/gregf/Documents/mcmaster/sem6/capstone/Geckode/frontend/src/Blockly/BlocklyEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport BlocklyComponent from \"./BlocklyComponent\";\nimport { Block, Value, Shadow, Field } from \".\";\n\nimport { javascriptGenerator } from \"blockly/javascript\"; // âœ… v12 way\n\nconst BlocklyEditor = () => {\n  return (\n    <BlocklyComponent\n      className=\"\"\n      readOnly={false}\n      trashcan={true}\n      media={\"media/\"}\n      move={{\n        scrollbars: true,\n        drag: true,\n        wheel: true,\n      }}\n      initialXml={`\n        <xml xmlns=\"http://www.w3.org/1999/xhtml\">\n          <block type=\"controls_ifelse\" x=\"0\" y=\"0\"></block>\n        </xml>\n      `}\n    >\n      {/* TODO: custom block type for this to work */}\n      {/* <Block type=\"test_react_field\" /> */}\n      <Block type=\"controls_ifelse\" />\n      <Block type=\"logic_compare\" />\n      <Block type=\"logic_operation\" />\n      <Block type=\"controls_repeat_ext\">\n        <Value name=\"TIMES\">\n          <Shadow type=\"math_number\">\n            <Field name=\"NUM\">20</Field>\n          </Shadow>\n        </Value>\n      </Block>\n      <Block type=\"logic_operation\" />\n      <Block type=\"logic_negate\" />\n      <Block type=\"logic_boolean\" />\n      <Block type=\"logic_null\" disabled=\"true\" />\n      <Block type=\"logic_ternary\" />\n      <Block type=\"text_charAt\">\n        <Value name=\"VALUE\">\n          <Block type=\"variables_get\">\n            <Field name=\"VAR\">text</Field>\n          </Block>\n        </Value>\n      </Block>\n    </BlocklyComponent>\n  );\n};\n\nexport default BlocklyEditor;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAOA,MAAM,gBAAgB;IACpB,qBACE,yXAAC,0JAAgB;QACf,WAAU;QACV,UAAU;QACV,UAAU;QACV,OAAO;QACP,MAAM;YACJ,YAAY;YACZ,MAAM;YACN,OAAO;QACT;QACA,YAAY,CAAC;;;;MAIb,CAAC;;0BAID,yXAAC,4IAAK;gBAAC,MAAK;;;;;;0BACZ,yXAAC,4IAAK;gBAAC,MAAK;;;;;;0BACZ,yXAAC,4IAAK;gBAAC,MAAK;;;;;;0BACZ,yXAAC,4IAAK;gBAAC,MAAK;0BACV,cAAA,yXAAC,4IAAK;oBAAC,MAAK;8BACV,cAAA,yXAAC,6IAAM;wBAAC,MAAK;kCACX,cAAA,yXAAC,4IAAK;4BAAC,MAAK;sCAAM;;;;;;;;;;;;;;;;;;;;;0BAIxB,yXAAC,4IAAK;gBAAC,MAAK;;;;;;0BACZ,yXAAC,4IAAK;gBAAC,MAAK;;;;;;0BACZ,yXAAC,4IAAK;gBAAC,MAAK;;;;;;0BACZ,yXAAC,4IAAK;gBAAC,MAAK;gBAAa,UAAS;;;;;;0BAClC,yXAAC,4IAAK;gBAAC,MAAK;;;;;;0BACZ,yXAAC,4IAAK;gBAAC,MAAK;0BACV,cAAA,yXAAC,4IAAK;oBAAC,MAAK;8BACV,cAAA,yXAAC,4IAAK;wBAAC,MAAK;kCACV,cAAA,yXAAC,4IAAK;4BAAC,MAAK;sCAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B;uCAEe","debugId":null}},
    {"offset": {"line": 456, "column": 0}, "map": {"version":3,"sources":["file:///Users/gregf/Documents/mcmaster/sem6/capstone/Geckode/frontend/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport dynamic from \"next/dynamic\";\nimport { useRef, useState, useEffect } from 'react';\nimport BlocklyEditor from '../Blockly/BlocklyEditor';\n\nconst PhaserGame = dynamic(() => import('./PhaserGame'), { ssr: false });\n\nexport default function Home() {\n  const phaserRef = useRef<{ game?: any; scene?: any } | null>(null);\n  const [spritePosition, setSpritePosition] = useState({ x: 0, y: 0 });\n  const [canMoveSprite, setCanMoveSprite] = useState(true);\n\n  const changeScene = () => {\n    phaserRef.current?.scene?.changeScene?.();\n  };\n\n  const moveSprite = () => {\n    const scene = phaserRef.current?.scene;\n    if (scene?.key === 'MainMenu') {\n      try {\n        scene.runScript(`\n          console.log('wow');\n          console.log(scene.player.x);\n          scene.player.setX(0);\n          console.log(scene.player.x);\n          scene.test = 'wow2';\n          console.log(scene.test);\n          // scene.player.setVelocity(25);\n          await api.wait(1000);\n          for (let i = 0; i < 600; i++) {\n            await api.wait(5);\n            scene.player.setX(i);\n            // console.log('i: ', i);\n          }\n          // await api.wait(300);\n          // api.addStar();\n          // api.moveBy(25, -10);\n          // return any value if you want:\n          return { done: true };\n        `);\n      } catch (e) {\n        console.error(e);\n      }\n\n      // scene.moveLogo?.(({ x, y }: { x: number; y: number }) =>\n      //   setSpritePosition({ x, y })\n      // );\n    }\n  };\n  const addSprite = () => phaserRef.current?.scene?.addStar?.();\n  const currentScene = (scene: { scene: { key: string } }) => {\n    setCanMoveSprite(scene.scene.key !== 'MainMenu');\n  };\n\n  return (\n    <div id=\"app\" className=\"mb-12\">\n      <PhaserGame ref={phaserRef} currentActiveScene={currentScene} />\n\n      {/* Phaser Controls */}\n      <div className=\"mt-4 flex items-center gap-2\">\n        <button\n          className=\"flex items-center justify-center rounded-lg border border-slate-300 px-2 py-1 text-xs cursor-pointer\"\n          onClick={changeScene}\n        >\n          Change Scene\n        </button>\n\n        <button\n          disabled={canMoveSprite}\n          className=\"flex items-center justify-center rounded-lg border border-slate-300 px-2 py-1 text-xs cursor-pointer disabled:cursor-not-allowed disabled:opacity-50\"\n          onClick={moveSprite}\n        >\n          Toggle Movement\n        </button>\n\n        <div className=\"rounded-lg border border-slate-300 p-2 text-xs\">\n          <div className=\"font-medium\">Sprite Position</div>\n          <pre className=\"mt-1\">{`{\\n  x: ${spritePosition.x}\\n  y: ${spritePosition.y}\\n}`}</pre>\n        </div>\n\n        <button\n          className=\"flex items-center justify-center rounded-lg border border-slate-300 px-2 py-1 text-xs cursor-pointer\"\n          onClick={addSprite}\n        >\n          Add Sprite\n        </button>\n      </div>\n\n      {/* Blockly */}\n      <div className=\"mt-5 px-6 rounded-md\">\n        <BlocklyEditor />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;AAJA;;;;;AAMA,MAAM,aAAa,IAAA,qTAAO;;;;;;IAAiC,KAAK;;AAEjD,SAAS;IACtB,MAAM,YAAY,IAAA,0VAAM,EAAqC;IAC7D,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,4VAAQ,EAAC;QAAE,GAAG;QAAG,GAAG;IAAE;IAClE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,4VAAQ,EAAC;IAEnD,MAAM,cAAc;QAClB,UAAU,OAAO,EAAE,OAAO;IAC5B;IAEA,MAAM,aAAa;QACjB,MAAM,QAAQ,UAAU,OAAO,EAAE;QACjC,IAAI,OAAO,QAAQ,YAAY;YAC7B,IAAI;gBACF,MAAM,SAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;QAmBjB,CAAC;YACH,EAAE,OAAO,GAAG;gBACV,QAAQ,KAAK,CAAC;YAChB;QAEA,2DAA2D;QAC3D,gCAAgC;QAChC,KAAK;QACP;IACF;IACA,MAAM,YAAY,IAAM,UAAU,OAAO,EAAE,OAAO;IAClD,MAAM,eAAe,CAAC;QACpB,iBAAiB,MAAM,KAAK,CAAC,GAAG,KAAK;IACvC;IAEA,qBACE,yXAAC;QAAI,IAAG;QAAM,WAAU;;0BACtB,yXAAC;gBAAW,KAAK;gBAAW,oBAAoB;;;;;;0BAGhD,yXAAC;gBAAI,WAAU;;kCACb,yXAAC;wBACC,WAAU;wBACV,SAAS;kCACV;;;;;;kCAID,yXAAC;wBACC,UAAU;wBACV,WAAU;wBACV,SAAS;kCACV;;;;;;kCAID,yXAAC;wBAAI,WAAU;;0CACb,yXAAC;gCAAI,WAAU;0CAAc;;;;;;0CAC7B,yXAAC;gCAAI,WAAU;0CAAQ,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC,GAAG,CAAC;;;;;;;;;;;;kCAGnF,yXAAC;wBACC,WAAU;wBACV,SAAS;kCACV;;;;;;;;;;;;0BAMH,yXAAC;gBAAI,WAAU;0BACb,cAAA,yXAAC,uJAAa;;;;;;;;;;;;;;;;AAItB","debugId":null}}]
}